<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>200</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>d3d_start();
z = 0;
fac = 2.44 + (2 * (global.World == -1 || global.World == 9)) + (global.World == 9);
len = 165;
camdir = 270;
destcamdir = 270;
render_interval = 30;
change = 0;
curve = 0;
val = 0.05;
index = 0;
shakex = 0;
shakey = 0;
railx = 0;
railxspeed = 2;
intensity = 0;
ttx = 0;
destzto = 16;
noalign = 0;
texsky = background_get_texture(tex_w9_sky);
obj_gcontrol.dontdraw = 1;
draw_enable_drawevent(0);

if (instance_exists(obj_mario))
{
    xto = obj_mario.x;
    yto = obj_mario.y;
    zto = obj_mario.z + 24;
    x = xto;
    y = yto + 128;
    z = zto + 48;
}

thfloor = background_get_texture(tex_th_floor);
alarm[0] = 1;
alarm[2] = 5;
alarm[4] = 30;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(obj_mario)
    instance_create(obj_mario.x, obj_mario.y, obj_star_fade_out)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.World == 7)
{
    cam_shake(random(2))
    alarm[4] = 30 + random(60)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>par_boss.alarm[0] = 120
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_deactivate_all(true)
instance_activate_object(obj_gcontrol)
instance_activate_object(obj_hud)
instance_activate_object(par_fence)
instance_activate_object(obj_arrow_up)
instance_activate_object(obj_platform_0)
if (room == rm_w4_4)
    instance_activate_object(obj_dig_platform)
if (room == rm_w4_1)
    instance_activate_object(obj_arrow_platform)
instance_activate_object(obj_pipe)
instance_activate_object(obj_fade_in)
instance_activate_object(obj_fade_out)
instance_activate_object(obj_rails)
instance_activate_object(obj_fuzzy)
instance_activate_object(obj_wall)
instance_activate_object(par_floor)
instance_activate_object(obj_firebar_block)
instance_activate_object(obj_firebar_flame)
instance_activate_object(obj_podoboo)
instance_activate_object(obj_battlefield)
if (room == rm_w2_2)
    instance_activate_object(obj_peepa)
instance_activate_object(obj_snake_platform)
instance_activate_object(obj_snake_platform_standstill)
instance_activate_object(obj_switch_platform_h)
instance_activate_object(obj_mario_die)
instance_activate_object(obj_rain)
instance_activate_object(obj_spiketrap)
if (room == rm_w3_3)
{
    instance_activate_object(obj_beep_block_ctrl)
    instance_activate_object(obj_beep_block_blue)
}
instance_activate_object(obj_boomerang)
if (room == rm_w3_4)
    instance_activate_object(obj_skewer)
if (room == rm_w4_3)
    instance_activate_object(obj_amp)
if (room == rm_w4_4)
    instance_activate_object(obj_sinking_platform)
if (room == rm_w4_fb)
{
    instance_activate_object(par_hurt)
    instance_activate_object(obj_rock)
    instance_activate_object(obj_giant_bowser)
}
instance_activate_region((xto - 320), (yto - 640), 640, 1280, true)
alarm[2] = render_interval
obj_gcontrol.dontdraw = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>room_restart()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.World == 9)
{
    destzto = obj_mario.zfloor + 12;
    
    if (global.Cp)
        destzto = 124;
}

fac = 2.44 + (2 * (global.World == -1 || global.World == 9)) + (global.World == 9);

with (par_floorwalls)
    create_walls();

if (global.World == -1)
{
    switch (room)
    {
        case rm_w1_t:
            th_floor = background_get_texture(tex_th_floor);
            break;
        
        case rm_w2_t:
            th_floor = background_get_texture(tex_th_floor_2);
            break;
        
        case rm_w3_t:
            th_floor = background_get_texture(tex_th_floor_3);
            break;
        
        case rm_w4_t:
            th_floor = background_get_texture(tex_th_floor_4);
            break;
        
        case rm_w4_t2:
            th_floor = background_get_texture(tex_th_floor_5);
            break;
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var ID, doit, _temp_local_var_1;
if instance_exists(obj_final_mario)
{
    xto = 96
    if (obj_final_mario.y == obj_giant_bowser.y)
    {
        if (yto &gt; obj_giant_bowser.y)
            yto -= 2
    }
    else
        yto = 48
    zto = max(16, obj_final_mario.z)
    x = 96
    y = 384
    z = 64
}
else if (instance_exists(obj_mario) &amp;&amp; (!noalign))
{
    with (obj_mario)
    {
        other.change = place_meeting(x, y, obj_camchange_area)
        other.change2 = place_meeting(x, y, obj_cambottom_area)
    }
    xto = obj_mario.x
    yto = obj_mario.y
    zto = max((obj_mario.z + 12), 0)
    if (global.World == -1)
    {
        xto = 80
        yto = 48
        zto = 32
    }
    if instance_exists(obj_autoscroll)
        xto = obj_autoscroll.x
    if (!global.Overworld)
    {
        if (zto &gt; 448)
            zto = 448
    }
    if (global.World == 9)
    {
        with (obj_mario)
        {
            ID = instance_find_top(x, y, par_floor)
            if (!ID)
                ID = instance_find_top(x, y, obj_flipswitch)
            if ID
            {
                if (ID.z &gt;= 0)
                    other.zzfloor = ID.z
            }
        }
        if (destzto != (zzfloor + 12))
            destzto += ((zzfloor + 12 - destzto) * 0.05)
        zto = destzto + 16
    }
    x = xto + (lengthdir_x(len, camdir))
    y = yto + (lengthdir_y(len, camdir))
    while collision_point(x, y, obj_cam_outside_area, 0, 0)
    {
        ID = collision_point(x, y, obj_cam_outside_area, 0, 0)
        doit = 1
        if instance_exists(obj_mario)
        {
            if (obj_mario.x &gt;= ID.x &amp;&amp; obj_mario.x &lt;= ID.bbox_right)
            {
                y = ID.y - 1
                yto = min((y - 32), yto)
                doit = 0
            }
        }
        if doit
        {
            if (camdir != 270)
            {
                x = ID.x + ID.image_xscale * 16 + (ID.image_xscale * 16 + 2) * (sign(270 - camdir))
                continue
            }
            else
                break
        }
        else
            continue
    }
    z = zto + len / fac
    if instance_exists(obj_dandelion_bowser)
    {
        xto = 96
        yto = 48
        if (obj_dandelion_bowser.starting == 1)
            zto = obj_dandelion_bowser.z + obj_dandelion_bowser.height * 0.5
        else
            zto = 16
        x = 96
        y = 384
        z = 64
    }
    if (room == rm_w2_4 &amp;&amp; global.World == 1 &amp;&amp; instance_exists(obj_train_inside))
    {
        y = obj_train_inside.y + 128 + len
        z = 48
        zto = 48
    }
    if (room == rm_w3_4 &amp;&amp; global.World == 1 &amp;&amp; instance_exists(obj_airship_inside))
    {
        zto = 28
        z = zto + 32
    }
}
_temp_local_var_1 = 45
destcamdir = 270 - 45 * ((key_check(global.Key_camleft) || collision_point(xto, yto, obj_cam_forward_area, 0, 0)) &amp;&amp; (!(collision_point(xto, yto, obj_cam_backwards_area, 0, 0)))) + 45 * ((key_check(global.Key_camright) || collision_point(xto, yto, obj_cam_backwards_area, 0, 0)) &amp;&amp; (!(collision_point(xto, yto, obj_cam_forward_area, 0, 0))))
if instance_exists(obj_mario)
{
    if ((!obj_mario.move) &amp;&amp; (!(collision_point(xto, yto, obj_cam_forward_area, 0, 0))) &amp;&amp; (!(collision_point(xto, yto, obj_cam_backwards_area, 0, 0))))
        destcamdir = 270
}
else
    destcamdir = 270
if collision_point(xto, yto, obj_cam_noinfluence_area, 0, 0)
    destcamdir = 270
if (global.World == -1 || instance_exists(obj_autoscroll) || (room == rm_w2_4 &amp;&amp; global.World == 1))
    destcamdir = 270
if (camdir != destcamdir)
    camdir += ((destcamdir - camdir) * 0.05)
if instance_exists(obj_mario)
    destfac = 2.44 - 1.44 * change + 2.22 * change2 + 2 * (obj_mario.donthide || global.World == -1 || global.World == 9) + (global.World == 9)
else
    destfac = 2.44 - 1.44 * change + 2.22 * change2
if (fac != destfac)
    fac += ((destfac - fac) * 0.05)
view_xview[0] = xto - 320
view_yview[0] = yto - 180
ID = collision_point(x, y, par_floorwalls, 0, 0)
if ID
{
    if (z &lt; (ID.z + 16))
        z = ID.z + 16
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var ID;
if (global.Coins &gt;= 100)
{
    global.Coins -= 100
    global.Tries += 1
    play_sfx(sfx_1up)
    if instance_exists(obj_mario)
    {
        with (obj_mario)
        {
            ID = instance_create(x, y, obj_1up)
            ID.z = z
        }
    }
}
curve += val
if (curve &gt;= (2 * pi))
    curve -= (2 * pi)
index = (index + 1) % 128
if (intensity &gt; 0)
{
    intensity -= 0.2
    shakex = (-random(intensity)) + random(intensity)
    shakey = (-random(intensity)) + random(intensity)
}
if (global.World == 7)
{
    railx -= railxspeed
    if (railxspeed &lt; 6)
        railxspeed += 0.02
    if (railx &lt; -128)
        railx += 128
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>fog_enable(false)
d3d_set_projection((x + shakex), y, (z + shakey), (xto + shakex), yto, (zto + shakey), 0, 0, 1)
if (global.World == 0)
{
    d3d_draw_cylinder((xto - 2048), (yto - 2048), zto, (xto + 2048), (yto + 2048), (zto - 1900), background_get_texture(tex_w1_sky), 6, 1, 0, 24)
    d3d_draw_floor((xto - 2048), (yto - 2048), (zto - 1900), (xto + 2048), (yto + 2048), (zto - 1900), background_get_texture(tex_w1_water), 15, 15)
}
if (global.World == 2)
{
    d3d_draw_cylinder((xto - 2048), (yto - 2048), zto, (xto + 2048), (yto + 2048), (zto - 1900), background_get_texture(tex_w3_sky), 6, 1, 0, 24)
    d3d_draw_floor((xto - 2048), (yto - 2048), (zto - 1900), (xto + 2048), (yto + 2048), (zto - 1900), background_get_texture(tex_w1_water), 15, 15)
}
if (global.World == 3 || global.World == 15)
{
    d3d_draw_cylinder((xto - 2048), (yto - 2048), (zto + 900), (xto + 2048), (yto + 2048), (zto - 1000), background_get_texture(tex_w4_sky), 6, 1, 0, 24)
    if instance_exists(obj_mario)
    {
        lavax = (obj_mario.x div 1024) * 1024
        lavay = (obj_mario.y div 1024) * 1024
    }
    d3d_draw_floor((lavax - 1024), (lavay - 1024), -16, (lavax + 2048), (lavay + 2048), -16, background_get_texture(tex_w4_water), 30, 30)
}
if (global.World == 4)
    d3d_draw_cylinder((xto - 2048), (yto - 2048), zto, (xto + 2048), (yto + 2048), (zto - 1900), background_get_texture(tex_w5_sky), 6, 1, 0, 24)
if (global.World == 6)
{
    d3d_draw_cylinder((xto - 2048), (yto - 2048), zto, (xto + 2048), (yto + 2048), (zto - 1900), background_get_texture(tex_w7_sky), 6, 1, 0, 24)
    d3d_draw_floor((xto - 2048), (yto - 2048), (zto - 1900), (xto + 2048), (yto + 2048), (zto - 1900), background_get_texture(tex_w1_water), 15, 15)
}
if (global.World == 7)
{
    fog_enable(true)
    if instance_exists(obj_mario)
        ttx = (obj_mario.x div 256) * 256
    d3d_draw_floor((railx - 2048 + ttx), -2048, -32.2, (railx + 2048 + ttx), 2048, -32.2, background_get_texture(tex_w8_sand), 64, 64)
    d3d_draw_floor((railx - 2048 + ttx), -16, -32, (railx + 2048 + ttx), 144, -32, background_get_texture(tex_railway), 64, 1)
    d3d_draw_floor((railx - 2048 + ttx), -208, -32, (railx + 2048 + ttx), -48, -32, background_get_texture(tex_railway), 64, 1)
    d3d_draw_floor((railx - 2048 + ttx), -400, -32, (railx + 2048 + ttx), -240, -32, background_get_texture(tex_railway), 64, 1)
    fog_enable(false)
}
if (global.World == -1)
{
    d3d_draw_wall(0, 0, 80, 160, 0, 0, background_get_texture(tex_th_wall), 2, 1)
    d3d_draw_wall(0, 96, 80, 0, 0, 0, background_get_texture(tex_th_wall), 1, 1)
    d3d_draw_wall(160, 0, 80, 160, 96, 0, background_get_texture(tex_th_wall), 1, 1)
    d3d_draw_floor(0, 0, 0, 160, 96, 0, th_floor, 5, 3)
    d3d_draw_floor(48, 16, 0.1, 112, 80, 0.1, background_get_texture(tex_toad_emblem), 1, 1)
}
if (global.World == 8)
{
    d3d_draw_cylinder((xto - 2048), (yto - 2048), zto, (xto + 2048), (yto + 2048), (zto - 1900), texsky, 6, 1, 0, 24)
    d3d_draw_floor((xto - 2048), (yto - 2048), (zto - 1900), (xto + 2048), (yto + 2048), (zto - 1900), background_get_texture(tex_w1_water), 15, 15)
}
if (global.World == 10)
    d3d_draw_cylinder((xto - 2048), (yto - 2048), zto, (xto + 2048), (yto + 2048), (zto - 1900), background_get_texture(tex_w11_sky), 6, 1, 0, 24)
if (global.World == 11)
    d3d_draw_cylinder((xto - 2048), (yto - 2048), zto, (xto + 2048), (yto + 2048), (zto - 1900), background_get_texture(tex_w12_sky), 6, 1, 0, 24)
if (global.World == 12)
{
    if instance_exists(obj_mario)
    {
        lavax = (obj_mario.x div 1024) * 1024
        lavay = (obj_mario.y div 1024) * 1024
    }
    fog_enable(true)
    d3d_draw_floor((lavax - 1024), (lavay - 1024), -16, (lavax + 2048), (lavay + 2048), -16, background_get_texture(tex_w13_water), 30, 30)
    fog_enable(false)
}
if (global.World == 13)
{
    d3d_draw_cylinder((xto - 2048), (yto - 2048), zto, (xto + 2048), (yto + 2048), (zto - 1900), background_get_texture(tex_w14_sky), 6, 1, 0, 24)
    if instance_exists(obj_mario)
    {
        lavax = (obj_mario.x div 1024) * 1024
        lavay = (obj_mario.y div 1024) * 1024
    }
    fog_enable(true)
    d3d_draw_floor((lavax - 1024), (lavay - 1024), -128, (lavax + 2048), (lavay + 2048), -128, background_get_texture(tex_w14_surface), 30, 30)
    fog_enable(false)
}
fog_enable(true)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
